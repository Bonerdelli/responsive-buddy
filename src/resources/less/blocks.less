@import "vars.less";

/**
 * Paddings and margins classes
 */

@block-indents:
  tiny   @indent-tiny,
  small  @indent-small,
  medium @indent-medium,
  large  @indent-large,
  big    @indent-big
;

/**
 * Classes generation mixin
 */

.generate-indent-classes(@indent, @value, @size) {

  // Block margins

  .@{size}margin-@{indent} {
    margin: @value !important;
  }
  .@{size}margin-@{indent}-t {
    margin-top: @value !important;
  }
  .@{size}margin-@{indent}-r {
    margin-right: @value !important;
  }
  .@{size}margin-@{indent}-b {
    margin-bottom: @value !important;
  }
  .@{size}margin-@{indent}-l {
    margin-left: @value !important;
  }
  .@{size}margin-@{indent}-v,
  .@{size}margin-@{indent}-tb {
    margin-top: @value !important;
    margin-bottom: @value !important;
  }
  .@{size}margin-@{indent}-h,
  .@{size}margin-@{indent}-rl {
    margin-right: @value !important;
    margin-left: @value !important;
  }

  // Block paddings

  .@{size}padding-@{indent} {
    padding: @value !important;
  }
  .@{size}padding-@{indent}-t {
    padding-top: @value !important;
  }
  .@{size}padding-@{indent}-r {
    padding-right: @value !important;
  }
  .@{size}padding-@{indent}-b {
    padding-bottom: @value !important;
  }
  .@{size}padding-@{indent}-l {
    padding-left: @value !important;
  }
  .@{size}padding-@{indent}-v,
  .@{size}padding-@{indent}-tb {
    padding-top: @value !important;
    padding-bottom: @value !important;
  }
  .@{size}padding-@{indent}-h,
  .@{size}padding-@{indent}-rl {
    padding-right: @value !important;
    padding-left: @value !important;
  }

}

/**
 * Indent classes generation
 */

.generate-indents(@size) {
  // Iterate defined indents and generate classes for them
  .iterate-indents(length(@block-indents));
  .iterate-indents(@n, @i: 1) when (@i <= @n) {
    @pair: extract(@block-indents, @i);
    @indent: extract(@pair, 1);
    @value: extract(@pair, 2);
    .generate-indent-classes(@indent, @value, @size);
    .iterate-indents(@n, (@i + 1));
  }
}

// Generate classes without size definition
.generate-indents(e(""));

// Generate classes for a first defined resolution
.generate-indents(e("@{grid-start-size}-"));

// Generate indent classes for defined resolutions
// With media breakpoints based on min-width (mobile first)
.iterate-min-sizes(length(@grid-min-sizes));
.iterate-min-sizes(@n, @i: 1) when (@i <= @n) {
  @pair: extract(@grid-min-sizes, @i);
  @size: extract(@pair, 1);
  @query: extract(@pair, 2);
  @media @query {
    .generate-indents(e("@{size}-"));
  }
  .iterate-min-sizes(@n, (@i + 1));
}

// Generate indent classes for defined resolutions
// With media breakpoints based on max-width (non-mobile first)
.iterate-max-sizes(length(@grid-max-sizes));
.iterate-max-sizes(@n, @i: 1) when (@i <= @n) {
  @pair: extract(@grid-max-sizes, @i);
  @size: extract(@pair, 1);
  @query: extract(@pair, 2);
  @media @query {
    .generate-indents(e("@{size}-max-"));
  }
  .iterate-max-sizes(@n, (@i + 1));
}
